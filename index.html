<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5 Nights at Rods</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: Arial, sans-serif;
        background: #111;
        color: #fff;
        overflow: hidden;
        height: 100vh;
    }

    /* Main containers */
    #game-container {
        width: 100%;
        height: 100vh;
        position: relative;
    }

    .screen {
        display: none;
        width: 100%;
        height: 100%;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .screen.active {
        display: flex;
    }

    /* Menu Screen */
    #menu-screen h1 {
        font-size: 4em;
        color: #c41e3a;
        margin-bottom: 20px;
        text-shadow: 3px 3px 6px #000;
    }

    #menu-screen p {
        font-size: 1.5em;
        color: #888;
        margin-bottom: 30px;
    }

    .btn {
        padding: 15px 40px;
        font-size: 1.5em;
        background: #c41e3a;
        color: #fff;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: background 0.3s;
    }

    .btn:hover {
        background: #a01828;
    }

    .controls-info {
        margin-top: 40px;
        max-width: 600px;
        text-align: left;
        color: #666;
        font-size: 0.9em;
        line-height: 1.6;
    }

    /* HUD */
    #hud {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        background: #1a1a1a;
        padding: 15px 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 2px solid #333;
        z-index: 10;
    }

    #time-display {
        font-size: 2.5em;
        font-weight: bold;
    }

    #power-display {
        font-size: 2em;
        font-weight: bold;
    }

    #power-display.high { color: #4ade80; }
    #power-display.medium { color: #fbbf24; }
    #power-display.low { color: #fb923c; }
    #power-display.critical { color: #ef4444; }

    /* Office View */
    #office-view {
        width: 100%;
        height: 100%;
        position: relative;
        background: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .door-control {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
    }

    #left-door { left: 40px; }
    #right-door { right: 40px; }

    .door-btn {
        width: 80px;
        height: 80px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 2em;
        transition: all 0.3s;
    }

    .door-btn.open {
        background: #16a34a;
    }

    .door-btn.open:hover {
        background: #15803d;
    }

    .door-btn.closed {
        background: #dc2626;
    }

    .door-btn.closed:hover {
        background: #b91c1c;
    }

    .door-btn:disabled {
        opacity: 0.3;
        cursor: not-allowed;
    }

    .door-label {
        font-size: 0.8em;
        color: #888;
    }

    .enemy-at-door {
        position: absolute;
        font-size: 5em;
        animation: pulse 1s infinite;
        display: none;
    }

    .enemy-at-door.visible {
        display: block;
    }

    #left-enemy { left: 150px; top: 50%; transform: translateY(-50%); }
    #right-enemy { right: 150px; top: 50%; transform: translateY(-50%); }

    @keyframes pulse {
        0%, 100% { opacity: 1; transform: translateY(-50%) scale(1); }
        50% { opacity: 0.7; transform: translateY(-50%) scale(1.1); }
    }

    #office-center {
        text-align: center;
    }

    #office-center .desk {
        font-size: 5em;
        margin-bottom: 20px;
    }

    #office-center .label {
        color: #888;
        font-size: 1.2em;
    }

    #power-out-warning {
        margin-top: 20px;
        color: #ef4444;
        font-size: 1.5em;
        font-weight: bold;
        animation: blink 1s infinite;
        display: none;
    }

    #power-out-warning.active {
        display: block;
    }

    @keyframes blink {
        0%, 50%, 100% { opacity: 1; }
        25%, 75% { opacity: 0; }
    }

    /* Light Control */
    #light-control {
        position: absolute;
        bottom: 100px;
        left: 50%;
        transform: translateX(-50%);
    }

    #light-btn {
        width: 80px;
        height: 80px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 2em;
        background: #374151;
        transition: all 0.3s;
    }

    #light-btn:hover:not(:disabled) {
        background: #4b5563;
    }

    #light-btn.active {
        background: #fbbf24;
    }

    #light-btn:disabled {
        opacity: 0.3;
        cursor: not-allowed;
    }

    /* Camera Button */
    #camera-toggle {
        position: absolute;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        padding: 15px 30px;
        font-size: 1.2em;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
    }

    #camera-toggle.inactive {
        background: #374151;
    }

    #camera-toggle.inactive:hover:not(:disabled) {
        background: #4b5563;
    }

    #camera-toggle.active {
        background: #2563eb;
    }

    #camera-toggle.active:hover {
        background: #1d4ed8;
    }

    #camera-toggle:disabled {
        opacity: 0.3;
        cursor: not-allowed;
    }

    /* Camera View */
    #camera-view {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.95);
        z-index: 20;
        display: none;
        flex-direction: column;
        padding: 20px;
    }

    #camera-view.active {
        display: flex;
    }

    #camera-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }

    #camera-header h2 {
        color: #4ade80;
        font-size: 1.8em;
    }

    #close-camera {
        padding: 10px 25px;
        background: #374151;
        border: none;
        color: #fff;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1em;
    }

    #close-camera:hover {
        background: #4b5563;
    }

    #camera-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
        flex: 1;
        margin-bottom: 20px;
    }

    .camera-button {
        background: #1a1a1a;
        border: 2px solid #374151;
        border-radius: 8px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .camera-button:hover {
        border-color: #4b5563;
    }

    .camera-button.selected {
        border-color: #4ade80;
        background: #1f2937;
    }

    .camera-button .room-name {
        font-weight: bold;
        font-size: 1.1em;
        margin-bottom: 8px;
    }

    .camera-button .room-distance {
        color: #888;
        font-size: 0.9em;
    }

    .camera-button .enemy-indicator {
        margin-top: 10px;
        color: #ef4444;
        font-weight: bold;
        font-size: 1.2em;
        animation: pulse 1s infinite;
        display: none;
    }

    .camera-button .enemy-indicator.visible {
        display: block;
    }

    #camera-feed {
        background: #1f2937;
        border-radius: 8px;
        padding: 20px;
        min-height: 300px;
    }

    #camera-feed-title {
        font-size: 1.5em;
        font-weight: bold;
        margin-bottom: 15px;
    }

    #camera-feed-display {
        height: 250px;
        background: #111;
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
    }

    #camera-feed-enemy {
        font-size: 6em;
        animation: pulse 2s infinite;
        display: none;
    }

    #camera-feed-enemy.visible {
        display: block;
    }

    #camera-feed-empty {
        color: #4b5563;
        font-size: 1.2em;
    }

    #camera-rec {
        position: absolute;
        bottom: 10px;
        right: 10px;
        color: #4ade80;
        font-size: 0.9em;
        animation: blink 2s infinite;
    }

    /* Victory/Game Over Screens */
    #victory-screen, #gameover-screen {
        background: #111;
    }

    #victory-screen h1 {
        font-size: 4em;
        color: #4ade80;
        margin-bottom: 20px;
    }

    #gameover-screen h1 {
        font-size: 4em;
        color: #ef4444;
        margin-bottom: 20px;
    }

    #gameover-screen .jumpscare {
        font-size: 8em;
        margin-bottom: 20px;
        animation: shake 0.5s infinite;
    }

    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-10px); }
        75% { transform: translateX(10px); }
    }

    .result-text {
        font-size: 1.5em;
        margin-bottom: 30px;
        color: #888;
    }
</style>
```

</head>
<body>
    <div id="game-container">
        <!-- Menu Screen -->
        <div id="menu-screen" class="screen active">
            <h1>5 NIGHTS AT RODS</h1>
            <p>Can you survive until 6 AM?</p>
            <button class="btn" onclick="startGame()">START GAME</button>
            <div class="controls-info">
                <p><strong>Controls:</strong></p>
                <p>SPACE/C - Toggle Cameras | A/‚Üê - Left Door | D/‚Üí - Right Door | W/‚Üë - Window Light</p>
                <p><strong>Objective:</strong> Survive from 12 AM to 6 AM by monitoring cameras and managing power.</p>
                <p><strong>Warning:</strong> Rod is hunting you. Keep him away from your office doors.</p>
            </div>
        </div>

```
    <!-- Game Screen -->
    <div id="game-screen" class="screen">
        <!-- HUD -->
        <div id="hud">
            <div id="time-display">12 AM</div>
            <div id="power-display" class="high">‚ö° 100.0%</div>
        </div>

        <!-- Office View -->
        <div id="office-view">
            <!-- Left Door -->
            <div id="left-door" class="door-control">
                <button class="door-btn open" onclick="toggleDoor('left')">üö™</button>
                <div class="door-label">LEFT [A]</div>
            </div>
            <div id="left-enemy" class="enemy-at-door">üòà</div>

            <!-- Right Door -->
            <div id="right-door" class="door-control">
                <button class="door-btn open" onclick="toggleDoor('right')">üö™</button>
                <div class="door-label">RIGHT [D]</div>
            </div>
            <div id="right-enemy" class="enemy-at-door">üòà</div>

            <!-- Office Center -->
            <div id="office-center">
                <div class="desk">üñ•Ô∏è</div>
                <div class="label">Your Office</div>
                <div id="power-out-warning">POWER OUT!</div>
            </div>

            <!-- Light Control -->
            <div id="light-control">
                <button id="light-btn" onclick="activateLight()">üí°</button>
                <div class="door-label">LIGHT [W]</div>
            </div>

            <!-- Camera Toggle -->
            <button id="camera-toggle" class="inactive" onclick="toggleCamera()">
                üìπ OPEN CAMERAS [C]
            </button>
        </div>

        <!-- Camera View Overlay -->
        <div id="camera-view">
            <div id="camera-header">
                <h2>SURVEILLANCE CAMERAS</h2>
                <button id="close-camera" onclick="toggleCamera()">CLOSE [C]</button>
            </div>

            <div id="camera-grid">
                <!-- Camera buttons will be generated here -->
            </div>

            <div id="camera-feed">
                <div id="camera-feed-title">Select a camera</div>
                <div id="camera-feed-display">
                    <div id="camera-feed-enemy">üòà</div>
                    <div id="camera-feed-empty">No movement detected</div>
                    <div id="camera-rec">‚óè REC</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Victory Screen -->
    <div id="victory-screen" class="screen">
        <h1>YOU SURVIVED!</h1>
        <p class="result-text">6 AM - Your shift is over</p>
        <p class="result-text" id="victory-power">Power remaining: 0%</p>
        <button class="btn" onclick="startGame()">PLAY AGAIN</button>
    </div>

    <!-- Game Over Screen -->
    <div id="gameover-screen" class="screen">
        <div class="jumpscare">üòà</div>
        <h1>GAME OVER</h1>
        <p class="result-text" id="gameover-time">Time survived: 12 AM</p>
        <button class="btn" onclick="startGame()">TRY AGAIN</button>
    </div>
</div>

<script>
    // Game Configuration
    const CONFIG = {
        hourDuration: 60000,        // 60 seconds per in-game hour
        startingPower: 100,
        basePowerDrain: 0.05,       // Power per second (idle)
        cameraPowerDrain: 0.15,     // Power per second (cameras)
        doorPowerDrain: 0.12,       // Power per second (per door)
        lightPowerCost: 3,          // Instant drain per light use
        enemyBaseSpeed: 30000,      // Initial milliseconds between moves
        aggressionMultiplier: 0.75, // Speed multiplier per hour
        cameraSlowEffect: 0.3       // Movement slow when watched
    };

    // Room definitions
    const ROOMS = [
        { id: 'start', name: 'Storage Room', distance: 5 },
        { id: 'hall1', name: 'East Corridor', distance: 4 },
        { id: 'hall2', name: 'Main Hallway', distance: 3 },
        { id: 'junction', name: 'Junction', distance: 2 },
        { id: 'leftHall', name: 'Left Hallway', distance: 1 },
        { id: 'rightHall', name: 'Right Hallway', distance: 1 }
    ];

    // Game State
    let gameState = {
        currentScreen: 'menu',
        time: 0,
        power: CONFIG.startingPower,
        enemyPosition: 'start',
        leftDoorClosed: false,
        rightDoorClosed: false,
        cameraOpen: false,
        selectedCamera: null,
        lightOn: false,
        enemyAtDoor: null,
        gameStartTime: null,
        lastMoveTime: null,
        gameLoop: null
    };

    // Initialize game
    function init() {
        generateCameraButtons();
        setupKeyboardControls();
    }

    // Generate camera buttons
    function generateCameraButtons() {
        const grid = document.getElementById('camera-grid');
        grid.innerHTML = '';
        
        ROOMS.forEach(room => {
            const button = document.createElement('div');
            button.className = 'camera-button';
            button.onclick = () => selectCamera(room.id);
            button.innerHTML = `
                <div class="room-name">${room.name}</div>
                <div class="room-distance">Distance: ${room.distance}</div>
                <div class="enemy-indicator" id="enemy-${room.id}">‚ö†Ô∏è ROD DETECTED</div>
            `;
            button.id = `cam-${room.id}`;
            grid.appendChild(button);
        });
    }

    // Start new game
    function startGame() {
        gameState = {
            currentScreen: 'game',
            time: 0,
            power: CONFIG.startingPower,
            enemyPosition: 'start',
            leftDoorClosed: false,
            rightDoorClosed: false,
            cameraOpen: false,
            selectedCamera: null,
            lightOn: false,
            enemyAtDoor: null,
            gameStartTime: Date.now(),
            lastMoveTime: Date.now(),
            gameLoop: null
        };

        showScreen('game-screen');
        updateUI();
        startGameLoop();
    }

    // Show specific screen
    function showScreen(screenId) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
    }

    // Game loop
    function startGameLoop() {
        gameState.gameLoop = setInterval(() => {
            const now = Date.now();
            const elapsed = now - gameState.gameStartTime;

            // Update time
            gameState.time = Math.min(6, elapsed / CONFIG.hourDuration);

            // Check victory
            if (gameState.time >= 6) {
                endGame('victory');
                return;
            }

            // Update power
            let powerDrain = CONFIG.basePowerDrain / 60;
            if (gameState.cameraOpen) powerDrain += CONFIG.cameraPowerDrain / 60;
            if (gameState.leftDoorClosed) powerDrain += CONFIG.doorPowerDrain / 60;
            if (gameState.rightDoorClosed) powerDrain += CONFIG.doorPowerDrain / 60;

            gameState.power = Math.max(0, gameState.power - powerDrain);

            // Power outage
            if (gameState.power <= 0) {
                gameState.leftDoorClosed = false;
                gameState.rightDoorClosed = false;
                gameState.cameraOpen = false;
            }

            // Enemy AI
            const currentHour = Math.floor(gameState.time);
            const moveDelay = CONFIG.enemyBaseSpeed * Math.pow(CONFIG.aggressionMultiplier, currentHour);
            const isBeingWatched = gameState.cameraOpen && gameState.selectedCamera === gameState.enemyPosition;
            const effectiveDelay = isBeingWatched ? moveDelay / CONFIG.cameraSlowEffect : moveDelay;

            if (now - gameState.lastMoveTime > effectiveDelay) {
                moveEnemy();
                gameState.lastMoveTime = now;
            }

            // Check for attack
            if (gameState.enemyAtDoor === 'left' && !gameState.leftDoorClosed && gameState.power > 0) {
                endGame('gameover');
                return;
            }
            if (gameState.enemyAtDoor === 'right' && !gameState.rightDoorClosed && gameState.power > 0) {
                endGame('gameover');
                return;
            }

            // Random attack during power outage
            if (gameState.power <= 0 && gameState.enemyAtDoor && Math.random() < 0.02) {
                endGame('gameover');
                return;
            }

            updateUI();
        }, 1000 / 60); // 60 FPS
    }

    // Enemy movement
    function moveEnemy() {
        const currentPos = gameState.enemyPosition;
        const currentIndex = ROOMS.findIndex(r => r.id === currentPos);

        // At door - stay there
        if (currentPos === 'leftHall') {
            gameState.enemyAtDoor = 'left';
            return;
        }
        if (currentPos === 'rightHall') {
            gameState.enemyAtDoor = 'right';
            return;
        }

        // Move forward
        if (currentIndex < ROOMS.length - 2) {
            if (currentIndex < ROOMS.length - 3) {
                gameState.enemyPosition = ROOMS[currentIndex + 1].id;
            } else if (currentPos === 'junction') {
                // Choose left or right
                gameState.enemyPosition = Math.random() < 0.5 ? 'leftHall' : 'rightHall';
            }
        }

        // Small chance to move back
        if (Math.random() < 0.2 && currentIndex > 0) {
            gameState.enemyPosition = ROOMS[currentIndex - 1].id;
            gameState.enemyAtDoor = null;
        }
    }

    // Update UI
    function updateUI() {
        // Time display
        const hour = Math.floor(gameState.time);
        let timeStr = hour === 0 ? '12 AM' : hour === 6 ? '6 AM' : `${hour} AM`;
        document.getElementById('time-display').textContent = timeStr;

        // Power display
        const powerEl = document.getElementById('power-display');
        powerEl.textContent = `‚ö° ${gameState.power.toFixed(1)}%`;
        powerEl.className = gameState.power > 75 ? 'high' :
                           gameState.power > 50 ? 'medium' :
                           gameState.power > 25 ? 'low' : 'critical';

        // Door states
        const leftBtn = document.querySelector('#left-door .door-btn');
        const rightBtn = document.querySelector('#right-door .door-btn');
        
        leftBtn.className = 'door-btn ' + (gameState.leftDoorClosed ? 'closed' : 'open');
        leftBtn.disabled = gameState.power <= 0;
        
        rightBtn.className = 'door-btn ' + (gameState.rightDoorClosed ? 'closed' : 'open');
        rightBtn.disabled = gameState.power <= 0;

        // Light button
        const lightBtn = document.getElementById('light-btn');
        lightBtn.className = gameState.lightOn ? 'active' : '';
        lightBtn.disabled = gameState.power <= 0 || gameState.lightOn;

        // Camera button
        const cameraBtn = document.getElementById('camera-toggle');
        cameraBtn.className = gameState.cameraOpen ? 'active' : 'inactive';
        cameraBtn.textContent = gameState.cameraOpen ? 'üìπ CLOSE CAMERAS [C]' : 'üìπ OPEN CAMERAS [C]';
        cameraBtn.disabled = gameState.power <= 0;

        // Camera view
        document.getElementById('camera-view').className = gameState.cameraOpen ? 'active' : '';

        // Enemy at door indicators
        document.getElementById('left-enemy').className = 
            'enemy-at-door' + (gameState.enemyAtDoor === 'left' && gameState.lightOn ? ' visible' : '');
        document.getElementById('right-enemy').className = 
            'enemy-at-door' + (gameState.enemyAtDoor === 'right' && gameState.lightOn ? ' visible' : '');

        // Power out warning
        document.getElementById('power-out-warning').className = gameState.power <= 0 ? 'active' : '';

        // Camera enemy indicators
        ROOMS.forEach(room => {
            const indicator = document.getElementById(`enemy-${room.id}`);
            if (indicator) {
                indicator.className = 'enemy-indicator' + (gameState.enemyPosition === room.id ? ' visible' : '');
            }
        });

        // Selected camera
        if (gameState.selectedCamera) {
            document.querySelectorAll('.camera-button').forEach(btn => btn.classList.remove('selected'));
            const selectedBtn = document.getElementById(`cam-${gameState.selectedCamera}`);
            if (selectedBtn) selectedBtn.classList.add('selected');

            // Camera feed
            const room = ROOMS.find(r => r.id === gameState.selectedCamera);
            document.getElementById('camera-feed-title').textContent = room.name;
            
            const feedEnemy = document.getElementById('camera-feed-enemy');
            const feedEmpty = document.getElementById('camera-feed-empty');
            
            if (gameState.enemyPosition === gameState.selectedCamera) {
                feedEnemy.className = 'visible';
                feedEmpty.style.display = 'none';
            } else {
                feedEnemy.className = '';
                feedEmpty.style.display = 'block';
            }
        }
    }

    // Toggle doors
    function toggleDoor(side) {
        if (gameState.power <= 0) return;
        
        if (side === 'left') {
            gameState.leftDoorClosed = !gameState.leftDoorClosed;
        } else {
            gameState.rightDoorClosed = !gameState.rightDoorClosed;
        }
        updateUI();
    }

    // Activate light
    function activateLight() {
        if (gameState.power <= 0 || gameState.lightOn) return;
        
        gameState.lightOn = true;
        gameState.power = Math.max(0, gameState.power - CONFIG.lightPowerCost);
        updateUI();
        
        setTimeout(() => {
            gameState.lightOn = false;
            updateUI();
        }, 500);
    }

    // Toggle camera
    function toggleCamera() {
        if (gameState.power <= 0) return;
        
        gameState.cameraOpen = !gameState.cameraOpen;
        if (!gameState.cameraOpen) {
            gameState.selectedCamera = null;
        } else if (!gameState.selectedCamera) {
            gameState.selectedCamera = 'start';
        }
        updateUI();
    }

    // Select camera
    function selectCamera(roomId) {
        gameState.selectedCamera = roomId;
        updateUI();
    }

    // Keyboard controls
    function setupKeyboardControls() {
        document.addEventListener('keydown', (e) => {
            if (gameState.currentScreen !== 'game') return;
            if (gameState.power <= 0 && e.key.toLowerCase() !== 'escape') return;

            const key = e.key.toLowerCase();
            
            if (key === 'c' || key === ' ') {
                e.preventDefault();
                toggleCamera();
            } else if (key === 'a' || key === 'arrowleft') {
                toggleDoor('left');
            } else if (key === 'd' || key === 'arrowright') {
                toggleDoor('right');
            } else if (key === 'w' || key === 'arrowup') {
                activateLight();
            }
        });
    }

    // End game
    function endGame(result) {
        clearInterval(gameState.gameLoop);
        
        if (result === 'victory') {
            document.getElementById('victory-power').textContent = 
                `Power remaining: ${gameState.power.toFixed(1)}%`;
            showScreen('victory-screen');
        } else {
            const hour = Math.floor(gameState.time);
            const timeStr = hour === 0 ? '12 AM' : `${hour} AM`;
            document.getElementById('gameover-time').textContent = 
                `Time survived: ${timeStr}`;
            showScreen('gameover-screen');
        }
    }

    // Initialize on load
    window.onload = init;
</script>
```

</body>
</html>
